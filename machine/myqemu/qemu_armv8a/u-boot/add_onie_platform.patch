diff --git a/configs/qemu_arm64_defconfig b/configs/qemu_arm64_defconfig
index f6e58662..826edf33 100644
--- a/configs/qemu_arm64_defconfig
+++ b/configs/qemu_arm64_defconfig
@@ -24,7 +24,7 @@ CONFIG_CMD_USB=y
 CONFIG_CMD_MTDPARTS=y
 CONFIG_OF_BOARD=y
 CONFIG_ENV_IS_IN_FLASH=y
-CONFIG_ENV_ADDR=0x4000000
+CONFIG_ENV_ADDR=0x100000
 CONFIG_SCSI_AHCI=y
 CONFIG_AHCI_PCI=y
 CONFIG_BLK=y
@@ -54,3 +54,6 @@ CONFIG_USB=y
 CONFIG_DM_USB=y
 CONFIG_USB_EHCI_HCD=y
 CONFIG_USB_EHCI_PCI=y
+
+CONFIG_CMD_BOOTI=y
+CONFIG_SYS_PROMPT="qemu>"
diff --git a/include/configs/qemu-arm.h b/include/configs/qemu-arm.h
index 273fa1a7..a2f83bdb 100644
--- a/include/configs/qemu-arm.h
+++ b/include/configs/qemu-arm.h
@@ -24,29 +24,79 @@
 
 /* Environment options */
 
-#define BOOT_TARGET_DEVICES(func) \
-	func(USB, usb, 0) \
-	func(SCSI, scsi, 0) \
-	func(VIRTIO, virtio, 0) \
-	func(DHCP, dhcp, na)
 
-#include <config_distro_bootcmd.h>
+
+/* Undefine those macros which are provided by common_config.h */
+#undef CONFIG_BOOTCOMMAND
+#undef CONFIG_SYS_PBSIZE
+#undef CONFIG_DOS_PARTITION
+#undef CONFIG_CMDLINE_EDITING
+#undef CONFIG_SYS_MAXARGS
+#undef CONFIG_OF_LIBFDT
+#undef CONFIG_OF_BOARD_SETUP
+#undef CONFIG_SYS_BAUDRATE_TABLE
+#undef CONFIG_ENV_SIZE
+#undef CONFIG_FIT
+#undef CONFIG_EXTRA_ENV_SETTINGS
+#undef CONFIG_CMD_PING
+#undef CONFIG_CMD_PCI
+#undef CONFIG_CMD_MII
+#undef CONFIG_BOOTDELAY
+#undef CONFIG_CMD_FAT
+#undef CONFIG_CMD_EXT2
+#undef CONFIG_CMD_DHCP
+#undef CONFIG_IDENT_STRING
+#undef CONFIG_SYS_LONGHELP
+#undef CONFIG_AUTO_COMPLETE
+#undef CONFIG_BOOTP_BOOTPATH
+#undef CONFIG_BOOTP_GATEWAY
+#undef CONFIG_BOOTP_HOSTNAME
+#undef CONFIG_BOOTP_SUBNETMASK
+#undef CONFIG_SYS_BOOTM_LEN
+#undef CONFIG_CMD_XIMG
+#undef CONFIG_CMD_SOURCE
+#undef CONFIG_CMD_SETEXPR
+#undef CONFIG_CMD_SAVEENV
+#undef CONFIG_CMD_RUN
+#undef CONFIG_CMD_NET
+#undef CONFIG_CMD_MEMORY
+#undef CONFIG_CMD_ITEST
+#undef CONFIG_CMD_IMI
+#undef CONFIG_CMD_FLASH
+#undef CONFIG_CMD_EDITENV
+#undef CONFIG_CMD_ECHO
+#undef CONFIG_CMD_CONSOLE
+#undef CONFIG_CMD_BOOTD
+#undef CONFIG_CMD_BDI
+
+#include "configs/common_config.h"
+
+#undef CONFIG_CMD_IRQ
+#undef CONFIG_CMD_JFFS2
+#undef CONFIG_OF_STDOUT_VIA_ALIAS
+#undef CONFIG_API
+#undef CONFIG_CMD_I2C
+#undef CONFIG_CMD_MISC
+#undef CONFIG_CMD_PCI
+#undef CONFIG_CMD_PXE
+#undef CONFIG_OF_BOARD_SETUP
+
+ 
+
 
 #define CONFIG_EXTRA_ENV_SETTINGS \
-	"fdt_high=0xffffffff\0" \
-	"initrd_high=0xffffffff\0" \
-	"fdt_addr=0x40000000\0" \
-	"scriptaddr=0x40200000\0" \
-	"pxefile_addr_r=0x40300000\0" \
-	"kernel_addr_r=0x40400000\0" \
-	"ramdisk_addr_r=0x44000000\0" \
-	BOOTENV
+	"consoledev=ttyAMA0\0"  \
+	"onie_start=0x001000000\0" \
+	"onie_sz.b=0x001000000\0" \
+	"loadaddr=0x60000000\0"  \
+	CONFIG_ONIE_COMMON_UBOOT_ENV
 
-#define CONFIG_SYS_CBSIZE 512
 
 #define CONFIG_SYS_MONITOR_BASE		CONFIG_SYS_TEXT_BASE
 #define CONFIG_SYS_MAX_FLASH_BANKS_DETECT	2
 #define CONFIG_SYS_MAX_FLASH_SECT	256 /* Sector: 256K, Bank: 64M */
 #define CONFIG_CFI_FLASH_USE_WEAK_ACCESSORS
 
+
+
 #endif /* __CONFIG_H */
diff --git a/scripts/config_whitelist.txt b/scripts/config_whitelist.txt
index 55acc38d..9285239b 100644
--- a/scripts/config_whitelist.txt
+++ b/scripts/config_whitelist.txt
@@ -124,6 +124,7 @@ CONFIG_BOOTP_DHCP_REQUEST_DELAY
 CONFIG_BOOTP_ID_CACHE_SIZE
 CONFIG_BOOTP_MAY_FAIL
 CONFIG_BOOTP_NISDOMAIN
+CONFIG_BOOTP_OPTIONS
 CONFIG_BOOTP_RANDOM_DELAY
 CONFIG_BOOTP_SERVERIP
 CONFIG_BOOTP_TIMEOFFSET
@@ -187,6 +188,7 @@ CONFIG_CLOCK_SYNTHESIZER
 CONFIG_CM922T_XA10
 CONFIG_CMDLINE_PS_SUPPORT
 CONFIG_CMDLINE_TAG
+CONFIG_CMD_SETGETDCR
 CONFIG_CM_INIT
 CONFIG_CM_MULTIPLE_SSRAM
 CONFIG_CM_REMAP
@@ -419,6 +421,7 @@ CONFIG_ENV_TOTAL_SIZE
 CONFIG_ENV_UBIFS_OPTION
 CONFIG_ENV_UBI_MTD
 CONFIG_ENV_VERSION
+CONFIG_ENV_WRITE_DEFAULT_IF_CRC_BAD
 CONFIG_EP9302
 CONFIG_EP9307
 CONFIG_EP9312
@@ -487,6 +490,7 @@ CONFIG_FDT1_ENV_ADDR
 CONFIG_FDT2_ENV_ADDR
 CONFIG_FDTADDR
 CONFIG_FDTFILE
+CONFIG_FDT_ENV_SIZE
 CONFIG_FEATURE_CLEAN_UP
 CONFIG_FEATURE_COMMAND_EDITING
 CONFIG_FEATURE_SH_APPLETS_ALWAYS_WIN
@@ -1188,6 +1192,11 @@ CONFIG_OMAP_EHCI_PHY2_RESET_GPIO
 CONFIG_OMAP_EHCI_PHY3_RESET_GPIO
 CONFIG_OMAP_USB2PHY2_HOST
 CONFIG_OMAP_USB3PHY1_HOST
+CONFIG_ONIE_BOOT_ARGS
+CONFIG_ONIE_BOOT_CMD
+CONFIG_ONIE_CHECK_BOOT_CMD
+CONFIG_ONIE_CMDS
+CONFIG_ONIE_COMMON_UBOOT_ENV
 CONFIG_ORIGEN
 CONFIG_OS1_ENV_ADDR
 CONFIG_OS2_ENV_ADDR
@@ -1274,6 +1283,7 @@ CONFIG_PME_PLAT_CLK_DIV
 CONFIG_PMU
 CONFIG_PMW_BASE
 CONFIG_PM_SLEEP
+CONFIG_POPULATE_SERIAL_NUMBER
 CONFIG_POST
 CONFIG_POSTBOOTMENU
 CONFIG_POST_BSPEC1
@@ -2613,6 +2623,7 @@ CONFIG_SYS_HIGH
 CONFIG_SYS_HMI_BASE
 CONFIG_SYS_HRCW_HIGH
 CONFIG_SYS_HRCW_LOW
+CONFIG_SYS_HUSH_PARSER
 CONFIG_SYS_HZ_CLOCK
 CONFIG_SYS_I2C
 CONFIG_SYS_I2C2_FSL_OFFSET
@@ -3160,6 +3171,7 @@ CONFIG_SYS_NOR_FTIM1
 CONFIG_SYS_NOR_FTIM2
 CONFIG_SYS_NOR_FTIM3
 CONFIG_SYS_NO_DCACHE
+CONFIG_SYS_NO_REPEATABLE
 CONFIG_SYS_NS16550_CLK
 CONFIG_SYS_NS16550_CLK_DIV
 CONFIG_SYS_NS16550_COM1
